<Page
    x:Class="AudioReplacer.Views.RecordPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Converters="using:AudioReplacer.Converters"
    xmlns:Models="using:AudioReplacer.ViewModels"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    MinWidth="750"
    MinHeight="500"
    mc:Ignorable="d">

    <Page.DataContext>
        <Models:RecordPageViewModel />
    </Page.DataContext>

    <Page.Resources>
        <Converters:VisibilityConverter x:Key="VisibilityConverter" />
    </Page.Resources>

    <Grid>
        <StackPanel Height="1080" VerticalAlignment="Center">
            <Border
                Height="12"
                VerticalAlignment="Top"
                Background="Transparent" />
            <Grid Padding="7.5,8" ColumnDefinitions="60*, 40*">
                <Border
                    Grid.Column="0"
                    Width="575"
                    Padding="10"
                    Style="{StaticResource PanelCard}">
                    <StackPanel Padding="5" VerticalAlignment="Center">
                        <TextBlock
                            Margin="0,7.5"
                            Style="{StaticResource TitleText}"
                            Text="{Binding MainFileHeader}">
                            <TextBlock.Transitions>
                                <ContentThemeTransition />
                            </TextBlock.Transitions>
                        </TextBlock>
                        <StackPanel Visibility="Collapsed">
                            <TextBlock Style="{StaticResource FileCounter}" />
                            <ProgressBar
                                Width="275"
                                Height="20"
                                Value="32" />
                        </StackPanel>
                        <StackPanel>
                            <MediaPlayerElement
                                Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                                Style="{StaticResource AudioPlayer}"
                                Visibility="Visible">
                                <MediaPlayerElement.TransportControls>
                                    <MediaTransportControls
                                        VerticalAlignment="Center"
                                        IsCompact="True"
                                        IsEnabled="False"
                                        IsSeekBarVisible="True"
                                        ShowAndHideAutomatically="False" />
                                </MediaPlayerElement.TransportControls>
                            </MediaPlayerElement>
                            <TextBlock
                                HorizontalAlignment="Center"
                                FontSize="13.5"
                                FontWeight="Normal"
                                Text="Choose effects in the right-hand panel"
                                TextAlignment="Center">
                                <TextBlock.Transitions>
                                    <ContentThemeTransition />
                                </TextBlock.Transitions>
                            </TextBlock>
                        </StackPanel>
                        <StackPanel
                            Margin="0,15,0,0"
                            HorizontalAlignment="Center"
                            Orientation="Horizontal">
                            <Button
                                Command="{Binding SkipFileCommand}"
                                Content="Skip"
                                IsEnabled="{Binding IsIdle}"
                                Style="{StaticResource OperationButton}"
                                Visibility="{Binding IsIdle, Converter={StaticResource VisibilityConverter}}" />
                            <Button
                                Command="{Binding CancelRecordCommand}"
                                Content="Cancel"
                                IsEnabled="{Binding IsRecording}"
                                Style="{StaticResource OperationButton}"
                                Visibility="{Binding IsRecording, Converter={StaticResource VisibilityConverter}}" />
                            <Button
                                Command="{Binding RejectRecordingCommand}"
                                Content="Reject"
                                IsEnabled="{Binding IsReviewing}"
                                Style="{StaticResource OperationButton}"
                                Visibility="{Binding IsReviewing, Converter={StaticResource VisibilityConverter}}" />
                            <Button
                                Command="{Binding StartRecordCommand}"
                                Content="Record"
                                IsEnabled="{Binding IsIdle}"
                                Style="{StaticResource OperationButton}"
                                Visibility="{Binding IsIdle, Converter={StaticResource VisibilityConverter}}" />
                            <Button
                                Command="{Binding StopRecordingCommand}"
                                Content="End Recording"
                                IsEnabled="{Binding IsRecording}"
                                Style="{StaticResource OperationButton}"
                                Visibility="{Binding IsRecording, Converter={StaticResource VisibilityConverter}}" />
                            <Button
                                Command="{Binding AcceptRecordingCommand}"
                                Content="Submit"
                                IsEnabled="{Binding IsReviewing}"
                                Style="{StaticResource OperationButton}"
                                Visibility="{Binding IsReviewing, Converter={StaticResource VisibilityConverter}}" />
                        </StackPanel>
                    </StackPanel>
                </Border>

                <Border
                    Grid.Column="1"
                    Width="375"
                    Style="{StaticResource PanelCard}">
                    <StackPanel Padding="5" VerticalAlignment="Center">
                        <TextBlock
                            Margin="0,0,0,15"
                            Style="{StaticResource TitleText}"
                            Text="Pitch Tuning:" />
                        <ComboBox
                            x:Name="PitchOption"
                            Margin="0,0,0,50"
                            ItemsSource="{Binding PitchTitles}"
                            PlaceholderText="Select Pitch Option"
                            SelectedIndex="{Binding SelectedPitchIndex, Mode=TwoWay}"
                            Style="{StaticResource DropdownMenu}" />
                        <TextBlock
                            Width="275"
                            Margin="0,0,0,15"
                            Style="{StaticResource TitleText}"
                            Text="Extra Effects:"
                            TextWrapping="WrapWholeWords" />
                        <ComboBox
                            x:Name="EffectsOption"
                            Margin="0,0,0,10"
                            ItemsSource="{Binding EffectTiles}"
                            PlaceholderText="Select Effect"
                            SelectedIndex="{Binding SelectedEffectIndex, Mode=TwoWay}"
                            Style="{StaticResource DropdownMenu}" />
                        <CheckBox
                            HorizontalAlignment="Center"
                            Command="{Binding ToggleFurtherEditsCommand}"
                            Content="Further Edits Required?" />
                    </StackPanel>
                </Border>
            </Grid>
        </StackPanel>
    </Grid>
</Page>