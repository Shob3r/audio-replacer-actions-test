<?xml version="1.0" encoding="utf-8" ?>

<WinUiEx:WindowEx
    x:Class="AudioReplacer.Windows.MainWindow.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:WinUiEx="using:WinUIEx"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Audio Replacer"
    Width="1024"
    Height="485"
    MinWidth="1024"
    MinHeight="485"
    mc:Ignorable="d">

    <StackPanel>
        <Border
            x:Name="AppTitleBar"
            Height="55"
            Padding="5"
            VerticalAlignment="Top"
            BorderThickness="5">
            <Grid ColumnDefinitions="Auto, *">
                <FontIcon Glyph="&#xEC71;" Style="{StaticResource TitleBarIcon}" />
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <TextBlock
                        x:Name="AppTitle"
                        Style="{StaticResource TitleBarText}"
                        Text="Audio Replacer" />
                    <AppBarButton
                        x:Name="FolderChanger"
                        Width="145"
                        Height="45"
                        Margin="35,0,0,0"
                        VerticalAlignment="Center"
                        HorizontalContentAlignment="Center"
                        VerticalContentAlignment="Center"
                        Background="{ThemeResource ControlFillColorSecondaryBrush}"
                        Click="ChangeProjectFolder"
                        Content="Change Project Folder"
                        CornerRadius="4"
                        FontSize="17"
                        FontWeight="Medium" />
                </StackPanel>
            </Grid>
        </Border>

        <NavigationView ItemInvoked="Navigate" Style="{StaticResource PageNavigation}">
            <NavigationView.MenuItems>
                <NavigationViewItem Tag="Record">
                    <NavigationViewItem.Content>
                        <TextBlock FontWeight="Light" Text="Record" />
                    </NavigationViewItem.Content>
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE720;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Tag="Data Editor">
                    <NavigationViewItem.Content>
                        <TextBlock FontWeight="Light" Text="Data Editor" />
                    </NavigationViewItem.Content>
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE70F;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Tag="Update Logs">
                    <NavigationViewItem.Content>
                        <TextBlock FontWeight="Light" Text="Update Logs" />
                    </NavigationViewItem.Content>
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xEB41;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Tag="Settings">
                    <NavigationViewItem.Content>
                        <TextBlock FontWeight="Light" Text="Settings" />
                    </NavigationViewItem.Content>
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE713;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>
            <Frame x:Name="MainFrame">
                <Frame.ContentTransitions>
                    <TransitionCollection>
                        <EntranceThemeTransition />
                    </TransitionCollection>
                </Frame.ContentTransitions>
            </Frame>
        </NavigationView>

        <InfoBar Severity="Success" Style="{StaticResource ToastNotification}">
            <InfoBar.Transitions>
                <PopupThemeTransition />
            </InfoBar.Transitions>
        </InfoBar>

        <InfoBar Severity="Error" Style="{StaticResource ToastNotification}">
            <InfoBar.Transitions>
                <PopupThemeTransition />
            </InfoBar.Transitions>
        </InfoBar>

        <InfoBar
            Title="Update Available"
            Background="{ThemeResource SystemFillColorCriticalBackgroundBrush}"
            Severity="Informational"
            Style="{StaticResource ToastNotification}">
            <InfoBar.IconSource>
                <FontIconSource Glyph="&#xECC5;" />
            </InfoBar.IconSource>
            <InfoBar.ActionButton>
                <Button
                    Command="{Binding OpenGitHubCommand}"
                    Content="View Update Details"
                    CornerRadius="4" />
            </InfoBar.ActionButton>
            <InfoBar.Transitions>
                <PopupThemeTransition />
            </InfoBar.Transitions>
        </InfoBar>

        <InfoBar
            Title="Error"
            Background="{ThemeResource SystemFillColorCriticalBackgroundBrush}"
            IsClosable="False"
            IsOpen="False"
            Message="Required Dependencies Not Installed"
            Severity="Error"
            Style="{StaticResource ToastNotification}">
            <InfoBar.ActionButton>
                <Button Content="Download Dependencies" CornerRadius="4" />
            </InfoBar.ActionButton>
            <InfoBar.Transitions>
                <PopupThemeTransition />
            </InfoBar.Transitions>
        </InfoBar>

        <InfoBar
            Background="{ThemeResource SystemFillColorSolidAttentionBackgroundBrush}"
            IsClosable="False"
            Severity="Informational"
            Style="{StaticResource ToastNotification}">
            <InfoBar.Content>
                <ProgressBar
                    MaxWidth="500"
                    Margin="0,0,0,6"
                    IsIndeterminate="True" />
            </InfoBar.Content>
            <InfoBar.Transitions>
                <PopupThemeTransition />
            </InfoBar.Transitions>
        </InfoBar>
    </StackPanel>
</WinUiEx:WindowEx>